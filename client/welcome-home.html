<head>
  <title>Welcome Home</title>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  <script type="text/javascript" src="http://code.ionicframework.com/1.0.0-beta.14/js/ionic.js"></script>
</head>

<body>
<div class="ionic-body grade-a platform-web">
 	<div class="bar bar-header bar-calm nav-bar-block nav-bar-transition-ios nav-bar-direction-forward" data-navbar-container="">
      <button id="config" class="button icon ion-ios-gear hue-groups"></button>
      <h1 class="title">{{currentTitle}}</h1>
      <button id="home" class="button icon ion-home"></button>
	</div>
  <div data-nav-container="" class="nav-view-transition-ios nav-view-direction-forward">
    <div class="view">
      <div class="scroll-content ionic-scroll">
        <div class="content overflow-scroll has-header">
          {{> Template.dynamic template=currentPage}}  
        </div>
      </div>
    </div>
  </div>      
	  {{> footer_lights}}
</div>    
</body>

<template name="footer_lights">
  <div class="tabs-icon-top">
    <div class="tabs"> 
      <a class="tab-item icon-left all-on">
        <i class="icon ion-ios-lightbulb-outline"></i>
        All On
      </a>
      <a class="tab-item all-off">
        <i class="icon ion-ios-lightbulb"></i>
        All Off
      </a>
      <a class="tab-item all-default">
        <i class="icon ion-ios-analytics-outline"></i>
        Dimmed
      </a>
      <a class="tab-item hue-lights">
        <i class="icon ion-ios-keypad-outline"></i>
        lights
      </a>
    </div>
  </div>
</template>

<template name="hueGroupsList">
  <ion-scroll delegate-handle="taskScroll" direction="y">
  <div class="list list-inset" id="hue-groups-list">
    <h3>Edit Groups</h3>
    {{#if hueGroups}}
      {{#each hueGroups}}
        <div class="panel">
          <div class="item item-divider" data-id="{{id}}">
              {{name}}
          </div>
          <div class="item range range-calm">
            <div class="button-bar">
              <a class="button edit-group" data-id="{{id}}">Edit</a>
              <a class="button button-assertive delete-group data-id={{id}}">Delete</a>
            </div>              
          </div>
        </div>
      {{/each}}
    {{else}}
      <div class="bar bar-header bar-energized">
        <h1 class="title">No groups found</h1>
      </div>
      
      <div class="button-bar">
        <a class="button button-calm">Create One</a>
        <a class="button return-home"><i class="icon ion-ios-close-outline"></i></a>
      </div>
    {{/if}}
    <div class="padding">
      <a class="button new-group button-block button-balanced icon-right">
        Add a new group <i class="ion-ios-plus-outline"></i>
      </a>
    </div>  
  </div>
  </ion-scroll>
</template>

<template name="groupPanel">
  {{#with hueGroup}}
    <h3>{{name}}</h3>
    <i class="status fa fa-lightbulb-o {{#if state.reachable}} reachable {{else}} unreachable {{/if}}"></i>
    <div class="panel">
      <div class="item item-divider">
            Hue
        </div>
        <div class="item range range-calm">
          <input class="hue-range" type="range" min="1" max="65535" value="{{action.hue}}">
        </div>

    <div class="item item-divider">
            Saturation
        </div>
        <div class="item range range-calm">
          <input class="saturation-range" type="range" min="0" max="255" value="{{action.sat}}">
        </div>
    
    <div class="item item-divider">
            Brightness
        </div>
        <div class="item range range-calm">
          <i class="icon ion-ios-lightbulb"></i>
          <input class="brightness-range" type="range" min="0" max="255" value="{{action.bri}}">
          <i class="icon ion-ios-lightbulb-outline"></i>
        </div>
    <div class="button-bar">
      <a class="button group-off"><i class="icon ion-ios-lightbulb"></i></a>
      <a class="button group-on"><i class="icon ion-ios-lightbulb-outline"></i></a>
      <a class="button group-dimmed"><i class="icon ion-ios-analytics-outline"></i></a>
      <a class="button group-close"><i class="icon ion-ios-close-outline"></i></a>
    </div>
      </div>
  {{/with}}
</template>

<template name="hueForm">
  <ion-scroll delegate-handle="taskScroll" direction="y">
    <div class="content overflow-scroll">
      <div class="item item-divider">
        Hue Group Information
      </div>
      <div class="list">
        <label class="item item-input item-stacked-label">
          <span class="input-label">Hue Group Name</span>
          <input type="text" name="groupName" placeholder="Hue Group Name"  value="{{#with group}}{{name}}{{/with}}">
        </label>
      <div class="item item-divider">
        Group Lights
      </div>
      <ul>
      {{#each lights}}
        <li class="item item-toggle">
           {{name}}
           <label class="toggle toggle-balanced">
             <input id="{{id}}" name="light" value="{{id}}" type="checkbox" {{hasLight}}>
             <div class="track">
               <div class="handle"></div>
             </div>
           </label>
        </li>
        {{/each}}
        </ul>  
      </div>
      <div class="padding button-bar">
      <a class="button button-positive submit-group">{{#if group}}Edit Group{{else}}Create Group{{/if}}</a>
      <a class="button button-assertive cancel">Cancel</a>
    </div>
    </div>
    
  </ion-scroll>  
</template>

<template name="lightList">
  <ion-scroll delegate-handle="taskScroll" direction="y">
    <div class="list list-inset" id="light-list">
      {{#each lights}}
        <div class="item">
        	<i class="icon ion-ios-lightbulb-outline"></i>
        	<span href="" data-id="{{id}}">{{name}}</span>
        	</div>
      {{/each}}
    </div>
  </ion-scroll>  
</template>

<template name="bulbPanel">
  {{#with bulb}}
    <h3>{{name}}</h3>
    <i class="status fa fa-lightbulb-o {{#if state.reachable}} reachable {{else}} unreachable {{/if}}"></i>
    <div class="panel">
    	<div class="item item-divider">
            Hue
        </div>
        <div class="item range range-calm">
          <input class="hue-range" type="range" min="1" max="65535" value="{{state.hue}}">
        </div>

		<div class="item item-divider">
            Saturation
        </div>
        <div class="item range range-calm">
          <input class="saturation-range" type="range" min="0" max="255" value="{{state.sat}}">
        </div>
		
		<div class="item item-divider">
            Brightness
        </div>
        <div class="item range range-calm">
          <i class="icon ion-ios-lightbulb"></i>
          <input class="brightness-range" type="range" min="0" max="255" value="{{state.bri}}">
          <i class="icon ion-ios-lightbulb-outline"></i>
        </div>
		<div class="button-bar">
			<a class="button bulb-off"><i class="icon ion-ios-lightbulb"></i></a>
			<a class="button bulb-on"><i class="icon ion-ios-lightbulb-outline"></i></a>
			<a class="button bulb-dimmed"><i class="icon ion-ios-analytics-outline"></i></a>
      <a class="button bulb-close"><i class="icon ion-ios-close-outline"></i></a>
		</div>
      </div>
  {{/with}}
</template>

<template name="home">

	
  <div class="list list-inset" id="hue-groups-list">
    {{#if hueGroups}}
      {{#each hueGroups}}
        <div class="panel">
          <div class="item item-divider" data-id="{{id}}">
              {{name}}
          </div>
          <div class="item range range-calm">
            <div class="button-bar">
              <a class="button on-group" data-id="{{id}}">
                <i class="icon ion-ios-lightbulb-outline"></i>
              </a>
              <a class="button off-group" data-id="{{id}}">
                <i class="icon ion-ios-lightbulb"></i>
              </a>
              <a class="button dimm-group" data-id="{{id}}">
                <i class="icon ion-ios-analytics-outline"></i>
              </a>
              <a class="button set-group">
                <i class="icon ion-wrench"></i>
              </a>
            </div>              
          </div>
        </div>
      {{/each}}
    {{/if}} 
  </div>

	<!-- <div class="content padding">

		<div class="button-bar">
		  <a class="button icon-left button-balanced">
		  	<i class="ion-ios-lightbulb"></i>hue
		  </a>
		  <a class="button icon-left button-balanced">
		  	<i class="ion-disc"></i>nest
		  </a>
		</div>
	</div> -->
	
</template>
